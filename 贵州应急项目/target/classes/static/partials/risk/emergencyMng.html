<div class="emergencyMng" ng-controller="emergencyMng" style="height:100%;padding-top:80px">
    <div class="list-ctn">
        <span class="_title">应急模拟</span>
        <div class="_header row">
            <div class="col-md-6" style="padding:0">
                <input style="width:200px;padding-right:22px" type="text" ng-model="emergency.keyword" placeholder="请输入关键字">
                <span class="_search" ng-click="emergency.getEvents()"><i class="iconfont icon-sousuo"></i></span>
            </div>
            <div class="col-md-6 text-right">
                <button class="searchBtn" style="margin-left: 20px" ng-click="emergency.eventsClick('add')">新增</button>
            </div>
        </div>
        <div class="body">
            <table class="center">
                <thead>
                    <tr>
                        <th>序号</th>
                        <th>应急事件</th>
                        <th>模拟时间</th>
                        <th>关联企业</th>
                        <th>类型</th>
                        <th>状态</th>
                        <th>操作</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="event in emergency.events">
                        <td>{{$index+1}}</td>
                        <td>
                            <span title="{{event.name}}" class="ellipsis" ng-bind="event.name"></span>
                        </td>
                        <td ng-bind="event.time | date:'yyyy-MM-dd HH:mm'"></td>
                        <td ng-bind="event.companyName"></td>
                        <td ng-bind="event.eventType | eventType"></td>
                        <td ng-style="{color:event.status=='1'?'yellow':(event.status=='2'?'green':'red')}" ng-bind="event.status | eventMoniStatu"></td>
                        <td>
                            <span class="handler" ng-click="emergency.eventsClick('detail',event)">详情</span>&nbsp;&nbsp;
                            <span class="handler" ng-click="emergency.eventsClick('update',event)">编辑</span>&nbsp;&nbsp;
                            <span class="handler" ng-click="emergency.eventsClick('delete',event)">删除</span>&nbsp;&nbsp;
                            <span class="handler" ng-click="emergency.eventsClick('moni',event)">模拟</span>
                        </td>
                    </tr>
                </tbody>
            </table>
            <div class="text-right" style="padding:4px">
                 <uib-pagination class="pagination" ng-change="emergency.getEvents()" total-items="emergency.pages.total" ng-model="emergency.pages.pageNo" first-text="first" items-per-page="emergency.pages.pageSize" boundary-link-numbers="true" direction-links="false" rotate="false" max-size="6">
                </uib-pagination>
            </div>
            <div style="text-align:center;padding-top:100px" ng-show="emergency.loading">
                <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="30px" viewBox="0 0 24 30" style="enable-background:new 0 0 50 50;" xml:space="preserve">
                    <rect x="0" y="8.61111" width="4" height="12.7778" fill="#fc0" opacity="0.2">
                    <animate attributeName="opacity" attributeType="XML" values="0.2; 1; .2" begin="0s" dur="0.6s" repeatCount="indefinite"></animate>
                    <animate attributeName="height" attributeType="XML" values="10; 20; 10" begin="0s" dur="0.6s" repeatCount="indefinite"></animate>
                    <animate attributeName="y" attributeType="XML" values="10; 5; 10" begin="0s" dur="0.6s" repeatCount="indefinite"></animate>
                    </rect>
                    <rect x="8" y="8.88889" width="4" height="12.2222" fill="#fc0" opacity="0.2">
                    <animate attributeName="opacity" attributeType="XML" values="0.2; 1; .2" begin="0.15s" dur="0.6s" repeatCount="indefinite"></animate>
                    <animate attributeName="height" attributeType="XML" values="10; 20; 10" begin="0.15s" dur="0.6s" repeatCount="indefinite"></animate>
                    <animate attributeName="y" attributeType="XML" values="10; 5; 10" begin="0.15s" dur="0.6s" repeatCount="indefinite"></animate>
                    </rect>
                    <rect x="16" y="6.38889" width="4" height="17.2222" fill="#fc0" opacity="0.2">
                    <animate attributeName="opacity" attributeType="XML" values="0.2; 1; .2" begin="0.3s" dur="0.6s" repeatCount="indefinite"></animate>
                    <animate attributeName="height" attributeType="XML" values="10; 20; 10" begin="0.3s" dur="0.6s" repeatCount="indefinite"></animate>
                    <animate attributeName="y" attributeType="XML" values="10; 5; 10" begin="0.3s" dur="0.6s" repeatCount="indefinite"></animate>
                    </rect>
                </svg>
            </div>
        </div>
    </div>
</div>