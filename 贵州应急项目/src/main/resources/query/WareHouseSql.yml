---
  grammer: SQL
  queries:
    #根据条件查询物资现状
    - name: listAlarmWareHouse
      resultType: Map
      statement:
        "
        SELECT
          w.*
        FROM
          warehouse w
        where
          1=1
        #if($xzqyId)
          and w.xzqyid = :xzqyId
        #end
        #if($notAlarm)
          and w.ID not in 
        #end
        #if($alarm)
          and w.ID in 
        #end
        (
        SELECT g.WAREHOUSEID
        FROM
          goods g 
        WHERE g.LIMITNUMBER < g.NUMBER
        )
        "
    - name: listWareHouse
      resultType: Map
      statement:
        "
        SELECT
        	w.*, x. NAME as xzayName
        FROM
        	warehouse w
        LEFT JOIN xzqy x ON x.ID = w.XZQYID
        #if($xzqyId)
          and x.id = :xzqyId
        #end
        "