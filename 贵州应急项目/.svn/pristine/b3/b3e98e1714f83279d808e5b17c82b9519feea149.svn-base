package com.sucsoft.gzhbyjwz.controller;

import java.util.List;
import java.util.Map;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.RestController;

import com.sucsoft.gzhbyjwz.bean.common.Page;
import com.sucsoft.gzhbyjwz.bean.dc12.LawsRegulationsType;
import com.sucsoft.gzhbyjwz.service.manual.EmergencyManualService;

import io.swagger.annotations.Api;
import io.swagger.annotations.ApiImplicitParam;
import io.swagger.annotations.ApiImplicitParams;
import io.swagger.annotations.ApiOperation;

@RestController
@RequestMapping("/manual")
@Api(value="EmergencyManualController",description="应急手册相关")
public class EmergencyManualController {

	@Autowired
	private EmergencyManualService manualService;
	
	@ApiOperation(value = "法律法规类型查询",notes = "法律法规类型查询", httpMethod = "GET")
	@RequestMapping(value="/getLawsType",method=RequestMethod.GET)
	public List<LawsRegulationsType> getLawsType() throws Exception{
		return manualService.getLawsType();
	}
	
	@ApiOperation(value = "根据类型,名称查询法律法规",notes = "根据类型查询法律法规", httpMethod = "GET")
	 @ApiImplicitParams({
         @ApiImplicitParam(name = "lawsType",paramType = "query",value = "法律法规类型名称"),
         @ApiImplicitParam(name = "name",paramType = "query",value = "法律法规名称"),
         @ApiImplicitParam(name = "pageNo",paramType = "query",value = "页码"),
         @ApiImplicitParam(name = "pageSize",paramType = "query",value = "页面显示内容长度")
    })
	@RequestMapping(value="/getLaws",method=RequestMethod.GET)
	public Page<Map> getLaws(String lawsType,String name,Integer pageNo,Integer pageSize) throws Exception{
		return manualService.getLaws(lawsType,name,pageNo,pageSize);
	}
	
    @ApiOperation(httpMethod="GET",value="手册下载",notes="手册下载")
    @ApiImplicitParams({
        @ApiImplicitParam(value = "文件名称",name = "fileName",required = true,paramType = "query")
	 })
    @RequestMapping(value="/downLoadFile")
    public String downLoadFile(String fileName,HttpServletRequest request, HttpServletResponse response) throws Exception{
    	return manualService.downLoadFile(fileName,request,response);
    }
}
