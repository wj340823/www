
<div ng-controller="riskSourceCtrl" style="height:100%">
    <div ng-include="'partials/leftMenu.html'"></div>
    <div ng-mouseenter="home.navShow=true" ng-mouseleave="home.navShow=false">
    <div class="navigation">
        <!--<div class="navBtn" ng-click="toggleMenu(0)" ng-class="{'active':riskSource.navShow}">

        </div>-->
        <!--<div class="navBtn navBtn_new1" ng-click="toggleMenu(1)" ng-class="{'active':riskSource.introShow}" style="top:145px;">
            <div class="borderLine"></div><i class="iconfont icon-jiemugaikuang"></i>风险源概况
        </div>-->
        <div class="navBtn navBtn_new1" ng-click="toggleMenu(2)" ng-class="{'active':riskSource.searchShow}" style="top:135px;">
            <div class="borderLine"></div><i class="iconfont icon-dianyadengji"></i>风险源检索
        </div>
        <div class="navOptions" ng-show="riskSource.navShow" style="position: absolute; right: -100px; width: 330px">
            <div ui--sref="home" ui-sref-active="active">
            </div>

            <div ui--sref="emergency.emergencyMaterial">
            </div>

            <div class="active">
            </div>
            <div>
            </div>
        </div>
        <div class="riskIntro riskIntrochange" ng-show="riskSource.introShow">
            <div class="part">
                <div class="title">
                    <span>风险源统计</span>
                </div>
                <div class="content" style="height:124px;position:relative;">
                    <div cgs-echarts="rankPie" options="riskSource.rankPie" style="width:373px;height:124px;"></div>
                    <div class="pieNum">
                        <div ng-repeat="item in riskSource.rankPie.series[0].data">{{item.value}}个</div>
                    </div>
                </div>
            </div>
            <div class="part">
                <div class="title">
                    <span>各区域风险源数量排名</span>
                </div>
                <div class="content" style="height:330px;">
                    <div cgs-echarts="rankBar" options="riskSource.rankBar" style="width:373px;height:330px;"></div>
                </div>
            </div>
            <div title="关闭" class="disClose" ng-click="(riskSource.introShow=false)">
                <i class="iconfont icon-guanbi"></i>
            </div>
        </div>
        <div class="riskSearch riskIntrochange" ng-show="riskSource.searchShow" ng-class="{true:'scrub'}[scrubEffect]">
            <div class="title">
                <span>风险源检索</span>
            </div>
            <div class="content">
                <div class="theme">名称搜索</div>
                <div>
                    <input type="text" placeholder="请输入名称" ng-model="riskSource.comSearch" />
                    <button type="button" class="searchBtn" ng-click="searchSoure(riskSource.comSearch)"><i class="iconfont icon-sousuo"></i>&nbsp;搜索</button>
                </div>
                <div class="points">
                    <span ng-repeat="item in riskSource.recentInput" ng-click="riskSource.comSearch=item">{{item}}</span>
                </div>
                <div class="theme">搜索结果</div>
                <div cgs-slim options="{width:'100%',height:'275px',size:'5px',color:'#C8C8C8'}">
                    <div ng-repeat="item in riskSource.sourceCompanies" class="riskComItem cursor-pointer" ng-click="locateSource(item)">
                        <span>{{item.COMPANYNAME}}</span>
                    </div>
                </div>
            </div>
            <div title="关闭" class="disClose" ng-click="(riskSource.searchShow=false)">
                <i class="iconfont icon-guanbi"></i>
            </div>
        </div>
    </div>
    </div>
    <div class="legend ">
        <div>
            <div><div><img src="images/major1.png " /></div>重大风险源</div>
            <div><div><img src="images/large1.png " /></div>较大风险源</div>
            <div><div><i class="icon-dot "></i></div>一般风险源</div>
        </div>
    </div>
    <div class="materialCon" style="background:none" ng-show="risk.sourceInfo.company||risk.sourceInfo.overview">
        <div class="riskSourcePop" ng-show="risk.sourceInfo.company">
            <!--<div class="popContainer"></div>-->
            <div class="head">
                <span ng-bind="riskDetail.COMPANYNAME"></span>
                <i class="iconfont icon-guanbi" title="关闭" ng-click="closeRisk('company')"></i>
            </div>
            <div class="menuTable" ng-show="messageType=='company' || messageType== 'product'">
                <div class="messageCom" ng-click="selectMessage('company')" ng-class="{true:'messageActive'}[messageType=='company']">企业信息</div>
                <div class="messageCom" ng-click="selectMessage('product')" ng-class="{true:'messageActive'}[messageType=='product']">产品信息</div>
            </div>
        </div>
    </div>  
    <!-- 一览表  -->
    <div class="riskSourcePop" ng-show="risk.sourceInfo.overview" style="width:calc(100% - 700px);min-width: 1000px;left: 350px;">
        <div class="head">
            <span ng-bind="riskDetail.COMPANYNAME"></span>
            <i class="iconfont icon-guanbi" title="关闭" ng-click="closePrint()"></i>
            <!--<button type="submit" class="print searchBtn" ng-click="print()">打印</button>-->
            <a type="submit" class="print searchBtn" ng-href="riskSource/downWord?companyId={{linkCompanyId}}">
                <i class="iconfont icon-daochu"></i> 导出word
            </a>
        </div>
        <div style="height: calc(100% - 40px)" ng-include="'partials/pop/yilanbiao.html'"></div>
    </div>
    <!-- 预案管理 -->
    <div class="riskSourcePop" ng-show="risk.sourceInfo.emergency" style="width:calc(100% - 700px);min-width: 1000px;left: 350px;">
        <div class="head">
            <span ng-bind="entDetail.COMPANYNAME"></span>
            <i class="iconfont icon-guanbi" title="关闭" ng-click="closePrint()"></i>
            <!--<button type="submit" class="print searchBtn" ng-click="print()">打印</button>-->
        </div>
        <div style="height: calc(100% - 40px)" ng-include="'partials/pop/emergency.html'"></div>
    </div>
    <div style="position: absolute;top: 63%;left: 10px;width: 290px;background-color: #000;height:250px">
        <div class="item-title" style="margin-top: 0" >风险源统计(总数{{account}})</div>
        <div cgs-echarts="warnBars" options="ccc" style="width:270px;height:200px; margin-left:10px; "></div>
    </div>
</div>
