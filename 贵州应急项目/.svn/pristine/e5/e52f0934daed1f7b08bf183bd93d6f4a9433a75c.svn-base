package com.sucsoft.gzhbyjwz.util;

import java.util.ArrayList;
import java.util.List;

public class PageBean<T> {
  private int pageIndex;//当前页数
  private int pageCount;//一共的页数
  private int totalCount;//数据条数
  private int pageSize;//每页的数据条数
  private int start;//起始数据位置
  private int end;//结束
  private List<T> dataList=null;

  public void init(){
      /*根count 和pageSize计算页数pageCount
       */
      int pageCount_x=(int)totalCount/pageSize;
      if(totalCount>=pageSize){
          this.pageCount=totalCount%pageSize==0?pageCount_x:pageCount_x+1;
      }else{
          this.pageCount=1;
      }
      //判断页数和当前页数
      if(pageIndex>pageCount){
          pageIndex=pageCount;
      }
      if(pageIndex<1){
          pageIndex=1;
      }
      //根据当前页计算起始和结束条目
      this.start=(pageIndex-1)*pageSize+1;
      this.end=pageIndex*pageSize>totalCount?totalCount:pageIndex*pageSize;
      
      List<T> initList = this.dataList;
      List<T> result = new ArrayList<>();
      if(!initList.isEmpty()){
//        if(this.start==initList.size())
//          result.add(initList.get(this.end-1));
        for(int i=this.start-1;i<this.end;i++){
          result.add(initList.get(i));
        }
        this.setDataList(result);
      }
  }

  public PageBean(int pageIndex, int totalCount, int pageSize) {
      super();
      this.pageIndex = pageIndex;
      this.totalCount = totalCount;
      this.pageSize = pageSize;
  }

  public PageBean(int pageIndex, int totalCount, int pageSize, List<T> dataList) {
      super();
      this.pageIndex = pageIndex;
      this.totalCount = totalCount;
      this.pageSize = pageSize;
      this.dataList = dataList;
  }

  public PageBean() {
      super();
      // TODO Auto-generated constructor stub
  }
  @Override
  public String toString() {
      return "PageBean [totalCount=" + totalCount + ", end=" + end + ", dataList=" + dataList
              + ", pageSize=" + pageSize + ", pageIndex=" + pageIndex
              + ", pageCount=" + pageCount + ", start=" + start + "]";
  }

public int getPageIndex() {
	return pageIndex;
}

public void setPageIndex(int pageIndex) {
	this.pageIndex = pageIndex;
}

public int getPageCount() {
	return pageCount;
}

public void setPageCount(int pageCount) {
	this.pageCount = pageCount;
}

public int getTotalCount() {
	return totalCount;
}

public void setTotalCount(int totalCount) {
	this.totalCount = totalCount;
}

public int getPageSize() {
	return pageSize;
}

public void setPageSize(int pageSize) {
	this.pageSize = pageSize;
}

public int getStart() {
	return start;
}

public void setStart(int start) {
	this.start = start;
}

public int getEnd() {
	return end;
}

public void setEnd(int end) {
	this.end = end;
}

public List<T> getDataList() {
	return dataList;
}

public void setDataList(List<T> dataList) {
	this.dataList = dataList;
}
 
}